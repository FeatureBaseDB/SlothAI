{# Welcome to the SlothAI Templating System. #}
{# This template tutorial creates a random word generator and POSTs it to the log tab. #}

{# Next Tasks #}
{# 1. Review this jinja processor template then click on the 'Save' button. #}
{# 2. Click `Nodes` and add a node using this template and then do the same for the callback template. #}
{# 3. Click `Pipelines` and add the random word (jinja) node and the callback template to the pipeline, in that order. #}
{# 4. Finish adding the Pipeline by giving it a name and clicking the add button. #}

{# extras = {} #}
{# The extras definition is required in all templates. #}
extras = {"processor": "jinja2"}

{# Input field definition to take in the number of words to generate. #}
input_fields = [{'name': 'num_words', 'type': 'int'}]

{# Define the output_fields expected from the node: #}
output_fields = [{'name': "words", 'type': "stringset"}]

{# Create a dictionary that contains the 'words' stringset: #}
{
    "words": [
        {% for _ in range(min(num_words | default(5), 25)) %}
            "{{ random_word() }}"{% if not loop.last %},{% endif %}
        {% endfor %}
    ]
}
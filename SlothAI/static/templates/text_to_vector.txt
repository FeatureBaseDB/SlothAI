{# Use this template to drive a Insructor XL embedding node processor! #}

{# NOTE: You may remove any template commented lines, such as this one. #}

{# Define the input_fields used in this template: #}
input_fields = [{'name': "texts", 'type': "stringset"}]

{# Hints for the output_fields expected from the node processor using this template: #}
output_fields = [{'name': "text_embedding", 'type': "vector"}]

{# 1. Define the 'extras' for embedding vector size and model flavor - use instructor_xl for lower perplexity #}
{# 2. For OpenAI ada-002-similarity embeddings, see the `Convert text to an OpenAI ada-similarity vector` template #}
extras = [{'vector_size': 768}, {'model': 'instructor_large'}]  

{# Process the inputted array of strings: #}
{'texts': {{task.document.texts}} }

{# Output is handled by next node in the pipeline... #}
{# Use this template to convert a URI to text #}

{# The input field is a URI, but only the URL type is currently supported. #}
input_fields = [{'name': "uri", 'type': "url"}]

{# Add request type to extras #}
extras = [{'http_request_method': "GET"},{'processor': "read_uri"},{'bearer_token': "[user_extra]"}]

{# The output field is a large text string containing the results #}
output_fields = [{'name': 'text', 'type': 'string'}]

{# We build a JSON object for the processor to use for the task #}
{
    "url": "{{task.document.input_fields.uri}}",
    "method": "{{task.document.extras.http_request_method}}",
    "dataType": "json",
    "headers": {
        "Authorization": "{{task.document.extras.bearer_token}}",
        "Content-Type": "application/json"
    }
}
